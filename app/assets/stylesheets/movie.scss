@import 'base';

$poster-small-width: 92px;
$poster-medium-width: 185px;
$poster-margin: 20px;
    
em.liked { color: green; }
em.disliked { color: darkred; }


/* movie list */
ol.movies {
  padding-left:0;
  @include no-bullets;
  @include clearfix;

  li { width:370px; min-height:170px; float:left; margin:0 20px 10px 0; }
    
  .movie {
    padding-left: $poster-small-width + $poster-margin;
    
    > a {
      &:active, &:visited { outline:0 none }
    }
  
    h1, h2, .year { line-height:1.5em }
    h1, h2 { letter-spacing:.01em }
    h1 { font-size:18px; margin-top:-5px; }
    h2, .year { font-size:15px; }

    .poster {
      display:block;
      margin-left:-($poster-small-width + $poster-margin);
      float:left;
    }
  }
}

.movie {
  @include clearfix;
  
  h1, .year, hgroup { margin:0; font-family:$heading-type; }
  h2 { font-weight:normal; font-style:italic; }
  .year { color:darken($lightblue, 5); font-style:normal; }
  
  .poster { border:1px solid #777; }
  span.poster {
    background: #999;
    @include background-image(radial-gradient(top left, rgba(white, .5), rgba(white, 0) 150px));
  }
  
  .actions, .friends { font-size:11px; }

  .actions {
    margin-top:1em;
    
    p { padding:2px 0 3px; }
    
    .button_to {
      display:inline-block;
      
      input[type=submit] {
        cursor: pointer;
        display:inline-block; color:#333;
        background-color:#e5e5e5; @include background-image(linear-gradient(rgba(white, .6), rgba(white, 0)));
        border:1px solid #ddd; @include border-radius;

        height:18px; line-height:16px;
        margin:0 0 5px; padding:0 4px 2px;
        
        &:hover { color:#fdfdfd; border-color:$body-color; background:$body-color }
        
        &.to-watch, &.watched { width:100px; }
        
        &[disabled] { background-color: #ccc; color: #666; }
      }
    }
    
    p.watched, p.to-watch {
      color:gray; font-style:italic;
      display:inline-block;
      
      + a.revert { padding:0 5px; }
    }
    a.revert { 
      color:#ccc; text-decoration:none;
      
      &:hover { color:firebrick; }
    }
    
    &.fadeout { @include transition(opacity 0.15s ease-in); opacity: 0; }
    &.hidden { opacity: 0; }
    &.fadein { @include transition(opacity 0.25s ease-out); opacity: 1; }
    
    .no-js & {
      .add-watched { display: none; }
      .question a[href="#cancel"] { display: none; }
    }
    .js & {
      > div { @include transition(opacity 0.2s ease-out) }
      .question {
        display: none;
        opacity: 0;
        background-color: white;
        a[href="#cancel"] { text-decoration: underline; color: $lightblue; }
      }
      &.asking {
        .primary { display: none; opacity: 0; }
        .question { display: block; opacity: 1; }
      }
      &.asking-transition {
        .primary { position: absolute; opacity: 0; }
        .question {
          display: block;
          opacity: 1;
        }
      }
      &.asking-transition-back {
        .primary { position: absolute; opacity: 1; z-index: -1; }
        .question {
          display: block;
          opacity: 0;
        }
      }
    }
  }
}

/* movie details */
.movie-show .movie {
  margin-top:1.3em;
  
  padding-left: $poster-medium-width + $poster-margin;
  .poster {
    display:block;
    margin:.6em 0 1.2em (0 - $poster-medium-width - $poster-margin);
    float:left;
    
    + p {
      float: left; clear: left;
      margin-left: -($poster-medium-width + $poster-margin);
      width: $poster-medium-width;
    }
  }
  .actions { margin-top:1.3em; }

  h1 { font-size:28px; line-height:36px; }

  header {
    h2, .year { font-size:18px; line-height:27px; }
    
    .runtime {
      margin:15px 0 0 .5em;
      padding:.2em .4em .1em .3em;
      line-height:16px;
      @include border-radius;
      border: 1px solid rgba($lightblue, .5);
      color: darken($lightblue, 5);
      vertical-align: top;
    }
    .directors {
      margin-top:12px;
      strong { font-size:1.2em; font-weight:normal; @include text-shadow }
      a { text-decoration: none; }
      a:hover { text-decoration: underline; }
    }
    .countries, .runtime { display:inline-block; }
    .countries { margin-top:1.5em; }
    
    /* special cases */
    .year + .countries, .year + .countries + .runtime, .year + .runtime { margin-top:0; }
    .directors + .runtime { margin-left:0; }
  }
  
  .plot { margin:3em 0 1.5em; text-align:justify; }
  
  .friends { font-style:italic; margin-top:1em; }
  
  section.admin {
    max-width: 50em;
    margin-top: 1.5em;
    border-top: 1px solid #eee;
    padding-top: .5em;
    color: #666;
    a { color: inherit; }
  }
}
